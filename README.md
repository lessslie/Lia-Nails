
# üíÖ Lia Nails - Sistema de Gesti√≥n de Sal√≥n de Belleza

<div align="center">
  
![Status](https://img.shields.io/badge/Status-En%20Desarrollo-yellow)
![TypeScript](https://img.shields.io/badge/TypeScript-100%25-blue)
![NestJS](https://img.shields.io/badge/NestJS-10.x-red)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15.x-blue)

**Sistema completo para gesti√≥n de turnos, servicios y empleadas en salones de belleza especializados en u√±as, pies y pesta√±as.**

</div>

## üìã Descripci√≥n del Proyecto

**Lia Nails** es una aplicaci√≥n web completa para la gesti√≥n integral de un sal√≥n de belleza especializado en:
- üíÖ **Servicios de u√±as** (esmaltado tradicional, semipermanente, nail art)
- ü¶∂ **Tratamientos de pies** (pedicura, belleza podal)  
- üëÅÔ∏è **Extensi√≥n de pesta√±as** (pelo a pelo, volumen ruso)

### üéØ Objetivos del Sistema
- **Para Clientas**: Reserva de turnos online, selecci√≥n de empleadas, pagos digitales
- **Para Empleadas**: Gesti√≥n de agenda personal, servicios asignados, historial de clientas
- **Para Administradores**: Control total del negocio, reportes, configuraci√≥n

## üèóÔ∏è Arquitectura T√©cnica

### **Backend - NestJS + PostgreSQL**
```
üìÅ lia-nails-backend/
‚îú‚îÄ‚îÄ üîê src/auth/           # Autenticaci√≥n JWT
‚îú‚îÄ‚îÄ üìä src/entities/       # 9 Entidades TypeORM
‚îú‚îÄ‚îÄ üè¢ src/modules/
‚îÇ   ‚îú‚îÄ‚îÄ empleadas/         # CRUD Empleadas ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ servicios/         # CRUD Servicios ‚úÖ  
‚îÇ   ‚îú‚îÄ‚îÄ clientas/          # CRUD Clientas (pr√≥ximo)
‚îÇ   ‚îú‚îÄ‚îÄ turnos/            # Sistema Reservas (pr√≥ximo)
‚îÇ   ‚îî‚îÄ‚îÄ pagos/             # Procesamiento Pagos (pr√≥ximo)
‚îî‚îÄ‚îÄ üìñ /api               # Swagger Documentation
```

### **Tecnolog√≠as Implementadas**
- **NestJS 10.x** - Framework backend profesional
- **TypeScript** - Tipado estricto (0% `any`)
- **PostgreSQL** - Base de datos relacional
- **TypeORM** - ORM con migraciones
- **JWT** - Autenticaci√≥n segura
- **Swagger** - Documentaci√≥n autom√°tica de API
- **Class-validator** - Validaciones robustas en DTOs

## üóÑÔ∏è Modelo de Base de Datos

### **Entidades Principales (9 tablas)**

```sql
üßë‚Äçüíº usuarios           # Sistema de autenticaci√≥n
‚îú‚îÄ‚îÄ üë©‚Äçüíº empleadas         # Staff del sal√≥n
‚îú‚îÄ‚îÄ üíÖ servicios         # Cat√°logo de servicios
‚îú‚îÄ‚îÄ üîó servicio_empleada # Relaci√≥n M:M servicios-empleadas
‚îú‚îÄ‚îÄ üë© clientas          # Base de datos de clientas
‚îú‚îÄ‚îÄ üìÖ turnos            # Sistema de reservas
‚îú‚îÄ‚îÄ üí≥ pagos             # Transacciones y comprobantes
‚îú‚îÄ‚îÄ üìù observaciones_clienta # Historial y preferencias
‚îî‚îÄ‚îÄ üö´ bloqueos_horario  # Disponibilidad empleadas
```

### **Relaciones Clave**
- **Empleada ‚Üí Servicios**: Una empleada puede ofrecer m√∫ltiples servicios
- **Clienta ‚Üí Turnos**: Historial completo de reservas
- **Turno ‚Üí Empleada + Servicio**: Cada turno asigna empleada espec√≠fica
- **Turno ‚Üí Pago**: Control de facturaci√≥n y anticipos

## üöÄ Estado Actual del Desarrollo

### ‚úÖ **Completado**
- **Autenticaci√≥n completa** con JWT y guards
- **M√≥dulo Empleadas** con CRUD completo
- **M√≥dulo Servicios** con categor√≠as y precios
- **Base de datos** con todas las entidades y relaciones
- **Documentaci√≥n Swagger** en `/api`
- **Tipado TypeScript** estricto (sin `any`)
- **Validaciones robustas** con DTOs en espa√±ol
- **Sistema de soft delete** para datos hist√≥ricos

### üîÑ **En Desarrollo**
- **M√≥dulo Clientas** - Sistema de b√∫squeda y observaciones
- **M√≥dulo Turnos** - Core del sistema de reservas
- **M√≥dulo Pagos** - Integraci√≥n con gateways argentinos
- **Sistema de Roles** - Permisos admin vs empleada

### üìã **Pr√≥ximos Features**
- **WhatsApp API** - Recordatorios autom√°ticos
- **MercadoPago Integration** - Pagos online
- **Panel Admin** - Dashboard con m√©tricas
- **App PWA** - Aplicaci√≥n m√≥vil progresiva

## üîß Instalaci√≥n y Configuraci√≥n

### **Requisitos Previos**
```bash
Node.js >= 18.x
PostgreSQL >= 15.x
npm >= 9.x
```

### **Configuraci√≥n del Proyecto**
```bash
# 1. Clonar el repositorio
git clone https://github.com/lessslie/Lia-Nails.git
cd lia-nails-backend

# 2. Instalar dependencias
npm install

# 3. Configurar variables de entorno
cp .env.example .env
# Editar .env con tus credenciales de PostgreSQL

# 4. Ejecutar migraciones
npm run typeorm:run

# 5. Cargar datos iniciales (opcional)
npm run seed

# 6. Levantar el servidor de desarrollo
npm run start:dev
```

### **Variables de Entorno (.env)**
```env
# Database
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=tu_usuario
DATABASE_PASSWORD=tu_password
DATABASE_NAME=lia_nails

# JWT
JWT_SECRET=tu_jwt_secret_super_seguro
JWT_EXPIRES_IN=24h

# Server
PORT=3000
NODE_ENV=development
```

## üìñ Documentaci√≥n de la API

### **Swagger UI**
Una vez levantado el servidor, acceder a:
```
http://localhost:3000/api
```

### **Endpoints Principales Disponibles**

#### üîê **Autenticaci√≥n**
```typescript
POST /auth/register    # Registro de usuarios
POST /auth/login       # Login JWT
GET  /auth/profile     # Perfil del usuario autenticado
```

#### üë©‚Äçüíº **Empleadas** 
```typescript
GET    /empleadas           # Listar empleadas (con filtros)
GET    /empleadas/:id       # Detalle de empleada
POST   /empleadas           # Crear empleada [AUTH]
PATCH  /empleadas/:id       # Actualizar empleada [AUTH]
DELETE /empleadas/:id       # Desactivar empleada [AUTH]
```

#### üíÖ **Servicios**
```typescript
GET    /servicios           # Cat√°logo de servicios
GET    /servicios/:id       # Detalle de servicio
POST   /servicios           # Crear servicio [AUTH]
PATCH  /servicios/:id       # Actualizar servicio [AUTH]
DELETE /servicios/:id       # Desactivar servicio [AUTH]
```

### **Ejemplo de Respuesta**
```json
{
  "success": true,
  "data": {
    "id": "uuid-here",
    "nombre": "Esmaltado Semipermanente",
    "categoria": "u√±as",
    "duracionDefault": 90,
    "precio": 8500,
    "activo": true,
    "empleadas": [
      {
        "id": "uuid-empleada",
        "nombre": "Mar√≠a",
        "apellido": "Gonz√°lez"
      }
    ]
  },
  "meta": {
    "timestamp": "2025-09-24T22:41:28.921Z",
    "version": "1.0.0"
  }
}
```

## üé® Caracter√≠sticas del Sistema

### **üîí Seguridad**
- Autenticaci√≥n JWT con refresh tokens
- Guards de autorizaci√≥n por rol
- Validaci√≥n estricta de DTOs
- Encriptaci√≥n de passwords con bcrypt

### **üìä Gesti√≥n de Datos**
- Soft delete para preservar historial
- Paginaci√≥n autom√°tica en listados
- Filtros avanzados por fecha/categoria/empleada
- B√∫squeda full-text en servicios

### **üéØ Experiencia de Usuario**
- Mensajes de error en espa√±ol
- Validaciones descriptivas
- Respuestas consistentes
- Documentaci√≥n autom√°tica

### **‚ö° Performance**
- Lazy loading de relaciones
- √çndices optimizados en PostgreSQL
- Caching de consultas frecuentes
- Queries optimizadas con TypeORM

## üõ†Ô∏è Comandos de Desarrollo

```bash
# Desarrollo
npm run start:dev        # Servidor con hot reload
npm run build           # Build de producci√≥n
npm run start:prod      # Servidor de producci√≥n

# Base de Datos
npm run typeorm:generate # Generar migraci√≥n
npm run typeorm:run     # Ejecutar migraciones
npm run typeorm:revert  # Revertir migraci√≥n

# Testing
npm run test            # Tests unitarios
npm run test:e2e        # Tests end-to-end
npm run test:cov        # Coverage report

# Linting
npm run lint            # Ejecutar ESLint
npm run lint:fix        # Corregir errores autom√°ticos
npm run format          # Formatear con Prettier
```

## üìà Roadmap de Desarrollo

### **üéØ Sprint 1 (Completado)**
- ‚úÖ Setup inicial con NestJS + PostgreSQL
- ‚úÖ Sistema de autenticaci√≥n JWT
- ‚úÖ M√≥dulo Empleadas completo
- ‚úÖ M√≥dulo Servicios completo
- ‚úÖ Documentaci√≥n Swagger

### **üéØ Sprint 2 (En Progreso)**
- üîÑ M√≥dulo Clientas con b√∫squeda avanzada
- üîÑ Sistema de observaciones y preferencias
- üîÑ Validaciones espec√≠ficas del negocio

### **üéØ Sprint 3 (Pr√≥ximo)**
- üìÖ M√≥dulo Turnos con calendario
- ‚è∞ Gesti√≥n de disponibilidad horaria
- üö´ Sistema de bloqueos de horarios

### **üéØ Sprint 4 (Planificado)**
- üí≥ M√≥dulo Pagos con MercadoPago
- üìß Sistema de notificaciones
- üì± WhatsApp API integration

## üë• Casos de Uso Principales

### **Para la Clienta:**
1. **Reserva Online**: Selecciona servicio, empleada y horario
2. **Pago Digital**: Anticipo del 30% para confirmar turno
3. **Recordatorios**: WhatsApp autom√°tico 24hs antes
4. **Historial**: Consulta turnos pasados y futuros

### **Para la Empleada:**
1. **Agenda Personal**: Ve sus turnos del d√≠a/semana
2. **Perfil de Servicios**: Gestiona servicios que ofrece
3. **Historial de Clientas**: Notas y preferencias
4. **Bloqueos**: Marca horarios no disponibles

### **Para el Admin:**
1. **Dashboard Completo**: M√©tricas del negocio
2. **Gesti√≥n de Staff**: Alta/baja de empleadas
3. **Cat√°logo de Servicios**: Precios y duraciones
4. **Reportes Financieros**: Ingresos por per√≠odo

## üîÑ Flujo de la Aplicaci√≥n

```mermaid
graph LR
    A[Clienta ingresa] --> B[Selecciona Servicio]
    B --> C[Elige Empleada opcional]
    C --> D[Ve calendario disponible]
    D --> E[Selecciona horario]
    E --> F[Confirma datos]
    F --> G[Procesa pago 30%]
    G --> H[Turno confirmado]
    H --> I[WhatsApp recordatorio]
```

## ü§ù Contribuci√≥n

### **Estilo de C√≥digo**
- **Tipado estricto**: Prohibido el uso de `any`
- **DTOs obligatorios**: Para todas las validaciones
- **Entities centralizadas**: En carpeta `/entities`
- **Nombres en espa√±ol**: Para DTOs y validaciones
- **Documentaci√≥n**: Swagger en todos los endpoints

### **Commits**
```
feat: nueva funcionalidad
fix: correcci√≥n de bug
docs: documentaci√≥n
style: formato/estilo
refactor: refactoring
test: tests
chore: mantenimiento
```

## üìû Contacto y Soporte

**Repositorio**: https://github.com/lessslie/Lia-Nails
**Desarrolladora**: @lessslie
**Estado**: üöß En desarrollo activo

---

<div align="center">

**üíÖ Transformando la experiencia de belleza, un commit a la vez üíÖ**

*Proyecto desarrollado con ‚ù§Ô∏è y TypeScript*

</div>